const a5_0x2e25f0=a5_0x5ede;(function(_0xbf68b3,_0xaaf34a){const _0x329a6f=a5_0x5ede,_0x44fbf7=_0xbf68b3();while(!![]){try{const _0x1e0546=parseInt(_0x329a6f(0xd2))/0x1+parseInt(_0x329a6f(0x81))/0x2+parseInt(_0x329a6f(0xaa))/0x3+parseInt(_0x329a6f(0xb0))/0x4*(-parseInt(_0x329a6f(0x83))/0x5)+parseInt(_0x329a6f(0xa3))/0x6*(-parseInt(_0x329a6f(0x92))/0x7)+-parseInt(_0x329a6f(0xa0))/0x8*(-parseInt(_0x329a6f(0xae))/0x9)+parseInt(_0x329a6f(0xef))/0xa*(-parseInt(_0x329a6f(0xba))/0xb);if(_0x1e0546===_0xaaf34a)break;else _0x44fbf7['push'](_0x44fbf7['shift']());}catch(_0x47d003){_0x44fbf7['push'](_0x44fbf7['shift']());}}}(a5_0x5cd1,0xbb34a));var __decorate=this&&this[a5_0x2e25f0(0xce)]||function(_0x307a77,_0xe8d625,_0x57286e,_0x211cc6){const _0x36e950=a5_0x2e25f0;var _0x52279b=arguments[_0x36e950(0xdf)],_0x429d16=_0x52279b<0x3?_0xe8d625:_0x211cc6===null?_0x211cc6=Object[_0x36e950(0xfb)](_0xe8d625,_0x57286e):_0x211cc6,_0x3cdf66;if(typeof Reflect===_0x36e950(0xee)&&typeof Reflect[_0x36e950(0xa1)]===_0x36e950(0xdc))_0x429d16=Reflect[_0x36e950(0xa1)](_0x307a77,_0xe8d625,_0x57286e,_0x211cc6);else{for(var _0x42b849=_0x307a77[_0x36e950(0xdf)]-0x1;_0x42b849>=0x0;_0x42b849--)if(_0x3cdf66=_0x307a77[_0x42b849])_0x429d16=(_0x52279b<0x3?_0x3cdf66(_0x429d16):_0x52279b>0x3?_0x3cdf66(_0xe8d625,_0x57286e,_0x429d16):_0x3cdf66(_0xe8d625,_0x57286e))||_0x429d16;}return _0x52279b>0x3&&_0x429d16&&Object[_0x36e950(0xde)](_0xe8d625,_0x57286e,_0x429d16),_0x429d16;},__metadata=this&&this[a5_0x2e25f0(0x95)]||function(_0x550dbc,_0x5b1468){const _0x51726a=a5_0x2e25f0;if(typeof Reflect===_0x51726a(0xee)&&typeof Reflect['metadata']===_0x51726a(0xdc))return Reflect[_0x51726a(0xb5)](_0x550dbc,_0x5b1468);},__param=this&&this[a5_0x2e25f0(0x99)]||function(_0x5deae1,_0x5b8fe5){return function(_0x53aae0,_0x1ea03c){_0x5b8fe5(_0x53aae0,_0x1ea03c,_0x5deae1);};};import{Param,Body,Get,Post,Put,Delete,NotFoundError,Res,JsonController,UploadedFile,CurrentUser,Authorized,OnUndefined,InternalServerError}from'routing-controllers';import a5_0x2ae634 from'../entities/Project.js';import a5_0x159ce4 from'../entities/User.js';import a5_0x138ed0 from'../entities/Measurement.js';import a5_0x427c4e from'../dtos/ProjectDto.js';import a5_0x420997 from'fs/promises';import{existsSync}from'fs';function a5_0x5cd1(){const _0x1ce42d=['mkdir','\x22\x20\x22','File\x20must\x20be\x20a\x20zip','readFile','deleteScript','postLayer','measurements','nMeasurements','users','postMain','33551YyLskR','/mergeTmp','includes','__metadata','putUsers','projects','originalname','__param','PYTHON_PATH','put','/projects','data','zip','measurementId','489400SPmTaK','decorate','prototype','1320xJIITO','ProjectNameNotUnique','getScript','find','/add_layer.py','isDirectory','/projects/:id/script','2605884TXOZpj','QGIS_PATH','design:returntype','getMergedLayer','99LckeHJ','readTree','4IDwTIE','name','sendFile','Measurement\x20with\x20id\x20','push','metadata','\x20does\x20not\x20exist\x20and\x20can\x27t\x20be\x20added\x20to\x20project','getUsers','Script\x20not\x20found','save','407QXMWUo','Measurement\x20','design:paramtypes','extractAllTo','all','findOneBy','user','filter','/projects/:id/measurements','AlreadyMergingProject','dirPath','role','design:type','/projects/:id/merged','env','description','resolve','/main','join','getLayer','__decorate','./add_layer.py','log','remove','783034CVCAFG','\x20does\x20not\x20exist','/projects/:id/users','endsWith','readdir','postScript','/projects/:id/main','detailedDescription','getOne','getAll','function','/merge','defineProperty','length','\x20does\x20not\x20exist\x20in\x20project\x20','map','attachment','utf-8','getAllMeasurements','catch','findOne','MissingFiles','writeFile','bind','FileIsNotZip','/projects/:id/measurements/:measurementId','getUserMeasurements','admin','object','153670Wswbxt','getMeasurement','sendFileAsync','/projects/:id','/main_old','buffer','.zip','project','findBy','User\x20with\x20id\x20','concat','project\x20user','getOwnPropertyDescriptor','QGIS\x20or\x20Python\x20path\x20not\x20set','post','These\x20necessary\x20files\x20are\x20missing\x20from\x20the\x20sent\x20zip:\x20','stdout','294046qWQVww','\x27\x20already\x20exists','408885FyrKwc','/main.zip','A\x20project\x20with\x20name\x20\x27','./projects/','nUsers'];a5_0x5cd1=function(){return _0x1ce42d;};return a5_0x5cd1();}import a5_0x3c4d7b from'../fileUploadOptions.js';import{exec}from'child_process';import{promisify}from'util';import a5_0x5c0961 from'path';import{zip}from'zip-a-folder';import{IsNull,Not}from'typeorm';import{instanceToPlain}from'class-transformer';import a5_0x3c62e4 from'../decorators/ProjectFromParam.js';function a5_0x5ede(_0x1e85bf,_0x180092){const _0x5cd106=a5_0x5cd1();return a5_0x5ede=function(_0x5ede72,_0x5f082c){_0x5ede72=_0x5ede72-0x7d;let _0x30f3b0=_0x5cd106[_0x5ede72];return _0x30f3b0;},a5_0x5ede(_0x1e85bf,_0x180092);}import a5_0x5a5b1d from'../decorators/PartialBody.js';import{randomUUID}from'crypto';import'dotenv/config';import a5_0x410a1c from'adm-zip';import{isUniqueViolationError}from'../utils.js';import a5_0x56c37a from'../errors/CustomBadRequestError.js';const execPromise=promisify(exec);let ProjectController=class ProjectController{async[a5_0x2e25f0(0xdb)](_0x25ba3f){const _0x3f4a4a=a5_0x2e25f0;if(_0x25ba3f[_0x3f4a4a(0xc5)]===_0x3f4a4a(0xed))return a5_0x2ae634[_0x3f4a4a(0xa6)]();return _0x25ba3f[_0x3f4a4a(0x97)];}['getOne'](_0x4c386b){const _0x57fe5b=a5_0x2e25f0;let _0x1fc27e=instanceToPlain(_0x4c386b,{'excludeExtraneousValues':!![]});return _0x1fc27e[_0x57fe5b(0x8f)]=_0x4c386b[_0x57fe5b(0x8e)][_0x57fe5b(0xdf)],_0x1fc27e[_0x57fe5b(0x87)]=_0x4c386b[_0x57fe5b(0x90)][_0x57fe5b(0xdf)],_0x1fc27e;}async['post'](_0x486f08){const _0xdf67ee=a5_0x2e25f0;try{let _0x4b85e3=new a5_0x2ae634();return _0x4b85e3['name']=_0x486f08[_0xdf67ee(0xb1)],_0x4b85e3['description']=_0x486f08[_0xdf67ee(0xc9)],_0x4b85e3[_0xdf67ee(0xd9)]=_0x486f08['detailedDescription'],await _0x4b85e3[_0xdf67ee(0xb9)](),_0x4b85e3;}catch(_0x5900f3){if(isUniqueViolationError(_0x5900f3))throw new a5_0x56c37a(_0xdf67ee(0xa4),_0xdf67ee(0x85)+_0x486f08[_0xdf67ee(0xb1)]+_0xdf67ee(0x82));throw _0x5900f3;}}async[a5_0x2e25f0(0x9b)](_0x9b4830,_0xba3fc0){const _0x4db3ef=a5_0x2e25f0;try{let {name:_0x82390d,description:_0x1a0e39,detailedDescription:_0x32829b}=_0xba3fc0;return _0x9b4830[_0x4db3ef(0xb1)]=_0x82390d??_0x9b4830['name'],_0x9b4830[_0x4db3ef(0xc9)]=_0x1a0e39??_0x9b4830[_0x4db3ef(0xc9)],_0x9b4830[_0x4db3ef(0xd9)]=_0x32829b??_0x9b4830[_0x4db3ef(0xd9)],await _0x9b4830[_0x4db3ef(0xb9)](),_0x9b4830;}catch(_0x2c579f){if(isUniqueViolationError(_0x2c579f))throw new a5_0x56c37a(_0x4db3ef(0xa4),_0x4db3ef(0x85)+_0xba3fc0['name']+_0x4db3ef(0x82));throw _0x2c579f;}}async[a5_0x2e25f0(0xd1)](_0x2f5573){const _0x431659=a5_0x2e25f0,_0x5c291f=_0x431659(0x86)+_0x2f5573['id'];existsSync(_0x5c291f)&&await a5_0x420997['rm'](_0x5c291f,{'recursive':!![]}),await _0x2f5573['remove']();}['getUsers'](_0xa3b09d){const _0x55c54c=a5_0x2e25f0;return _0xa3b09d[_0x55c54c(0x90)];}async[a5_0x2e25f0(0x96)](_0x2bd3f5,_0x4e12a7){const _0x2d708e=a5_0x2e25f0;_0x2bd3f5[_0x2d708e(0x90)]=[];for(let _0x39d8eb of new Set(_0x4e12a7)){let _0x48d0db=await a5_0x159ce4[_0x2d708e(0xbf)]({'id':_0x39d8eb});if(!_0x48d0db)throw new a5_0x56c37a('UserDoesNotExist',_0x2d708e(0xf8)+_0x39d8eb+_0x2d708e(0xb6));_0x2bd3f5[_0x2d708e(0x90)]['push'](_0x48d0db);}return await _0x2bd3f5[_0x2d708e(0xb9)](),_0x2bd3f5[_0x2d708e(0x90)];}async['getLayer'](_0x5b4669,_0x4a8e83){const _0x37060a=a5_0x2e25f0,_0xf8b0de=_0x37060a(0x86)+_0x5b4669['id']+_0x37060a(0x84);if(!existsSync(_0xf8b0de))throw new NotFoundError('Main\x20project\x20zip\x20not\x20found\x20for\x20project\x20'+_0x5b4669['id']);return _0x4a8e83['attachment'](_0x5b4669[_0x37060a(0xb1)]+_0x37060a(0xf5)),await this['sendFileAsync'](_0x4a8e83,_0xf8b0de),_0x4a8e83;}async[a5_0x2e25f0(0x91)](_0x29a6ae,_0x9c5b27){const _0x1c0c5d=a5_0x2e25f0;console[_0x1c0c5d(0xd0)]('fileMain',_0x9c5b27);if(!_0x9c5b27[_0x1c0c5d(0x98)][_0x1c0c5d(0xd5)](_0x1c0c5d(0xf5)))throw new a5_0x56c37a(_0x1c0c5d(0xea),'File\x20must\x20be\x20a\x20zip');const _0x1da41e=_0x1c0c5d(0x86)+_0x29a6ae['id'],_0x3df0b6=_0x1da41e+_0x1c0c5d(0xcb);await a5_0x420997[_0x1c0c5d(0x88)](_0x3df0b6,{'recursive':!![]}),await a5_0x420997['cp'](_0x3df0b6,_0x1da41e+_0x1c0c5d(0xf3),{'recursive':!![]}),await a5_0x420997['rm'](_0x3df0b6,{'recursive':!![]});try{const _0x150c3a=new a5_0x410a1c(_0x9c5b27[_0x1c0c5d(0xf4)]);_0x150c3a[_0x1c0c5d(0xbd)](_0x3df0b6,!![]);}catch(_0x1f0e35){console['log']('error'),await a5_0x420997['cp'](_0x1da41e+'/main_old',_0x3df0b6,{'recursive':!![]});throw _0x1f0e35;}finally{await a5_0x420997['rm'](_0x1da41e+_0x1c0c5d(0xf3),{'recursive':!![]});}await a5_0x420997[_0x1c0c5d(0xe8)](_0x1da41e+_0x1c0c5d(0x84),_0x9c5b27[_0x1c0c5d(0xf4)],{'flag':'w'});}async[a5_0x2e25f0(0x8d)](_0x1eea85,_0x251835,_0x324342){const _0x2d5492=a5_0x2e25f0;if(!_0x251835[_0x2d5492(0x98)]['endsWith']('.zip'))throw new a5_0x56c37a(_0x2d5492(0xea),_0x2d5492(0x8a));let _0x474e9b=new a5_0x138ed0();do{_0x474e9b['id']=randomUUID();}while(existsSync(_0x2d5492(0x86)+_0x1eea85['id']+'/'+_0x324342['id']+'/'+_0x474e9b['id']));_0x474e9b[_0x2d5492(0xc0)]=_0x324342,_0x474e9b[_0x2d5492(0xf6)]=_0x1eea85,_0x474e9b[_0x2d5492(0xc4)]=_0x2d5492(0x86)+_0x1eea85['id']+'/'+_0x324342['id']+'/'+_0x474e9b['id'],await a5_0x420997[_0x2d5492(0x88)](_0x474e9b[_0x2d5492(0xc4)],{'recursive':!![]});try{const _0x5ed693=new a5_0x410a1c(_0x251835[_0x2d5492(0xf4)]);_0x5ed693[_0x2d5492(0xbd)](_0x474e9b[_0x2d5492(0xc4)],!![]);}catch(_0x4119fe){await a5_0x420997['rm'](_0x474e9b['dirPath'],{'recursive':!![]});throw _0x4119fe;}const _0x1dc1af=await this[_0x2d5492(0xaf)]('./projects/'+_0x1eea85['id']+_0x2d5492(0xcb)),_0x230637=await this[_0x2d5492(0xaf)](_0x474e9b[_0x2d5492(0xc4)]),_0x54f924=_0x1dc1af[_0x2d5492(0xc1)](_0x55009b=>!_0x230637[_0x2d5492(0x94)](_0x55009b));if(_0x54f924[_0x2d5492(0xdf)]>0x0){await a5_0x420997['rm'](_0x474e9b[_0x2d5492(0xc4)],{'recursive':!![]});throw new a5_0x56c37a(_0x2d5492(0xe7),_0x2d5492(0x7f)+_0x54f924['join'](',\x20'));}return await _0x474e9b['save'](),_0x474e9b;}async[a5_0x2e25f0(0xaf)](_0x379d46,_0x13e01a=''){const _0x344524=a5_0x2e25f0;let _0x2e1210=[];const _0x3e10bd=await a5_0x420997[_0x344524(0xd6)](_0x379d46,{'withFileTypes':!![]});for(let _0x40031a=0x0;_0x40031a<_0x3e10bd[_0x344524(0xdf)];_0x40031a++){const _0x5e151d=_0x3e10bd[_0x40031a];if(_0x5e151d[_0x344524(0xa8)]()){const _0x21fd89=await this[_0x344524(0xaf)](_0x379d46+'/'+_0x5e151d['name'],_0x13e01a+'/'+_0x5e151d[_0x344524(0xb1)]);_0x2e1210=_0x2e1210[_0x344524(0xf9)](_0x21fd89);}_0x2e1210[_0x344524(0xb4)](_0x13e01a+'/'+_0x5e151d[_0x344524(0xb1)]);}return _0x2e1210;}[a5_0x2e25f0(0xe4)](_0x22da78){const _0x11d3b8=a5_0x2e25f0;return a5_0x138ed0[_0x11d3b8(0xf7)]({'project':{'id':_0x22da78['id']}});}[a5_0x2e25f0(0xec)](_0xee7fb3,_0x383a06){const _0x80eb3c=a5_0x2e25f0;return a5_0x138ed0[_0x80eb3c(0xf7)]({'project':{'id':_0xee7fb3['id']},'user':{'id':_0x383a06['id']}});}async[a5_0x2e25f0(0xf0)](_0x3a029b,_0x593739,_0x317275,_0x4422d3){const _0xbd1b7e=a5_0x2e25f0;let _0x2decc4=await a5_0x138ed0[_0xbd1b7e(0xe6)]({'where':{'project':{'id':_0x3a029b['id']},'user':{'id':_0x4422d3['role']===_0xbd1b7e(0xed)?Not(IsNull()):_0x4422d3['id']},'id':_0x593739}});if(!_0x2decc4)throw new NotFoundError(_0xbd1b7e(0xb3)+_0x593739+'\x20does\x20not\x20exist\x20in\x20project\x20'+_0x3a029b['id']);const _0x364df8=_0x2decc4['id']+'.zip';return _0x317275[_0xbd1b7e(0xe2)](_0x364df8),await zip(_0x2decc4[_0xbd1b7e(0xc4)],_0x364df8),await this[_0xbd1b7e(0xf1)](_0x317275,_0x364df8),await a5_0x420997['rm'](_0x364df8,{'recursive':!![]}),_0x317275;}async['deleteMeasurement'](_0x163044,_0xc280f1){const _0x3a4747=a5_0x2e25f0,_0x96b68f=await a5_0x138ed0[_0x3a4747(0xbf)]({'id':_0xc280f1,'project':{'id':_0x163044}});if(!_0x96b68f)throw new NotFoundError(_0x3a4747(0xbb)+_0xc280f1+_0x3a4747(0xe0)+_0x163044);await a5_0x420997['rm'](_0x96b68f[_0x3a4747(0xc4)],{'recursive':!![]}),await _0x96b68f[_0x3a4747(0xd1)]();}async['getMergedLayer'](_0x9e462c,_0x2db3dd,_0x29cffc){const _0x542755=a5_0x2e25f0,_0xed9c7f=existsSync(_0x542755(0x86)+_0x9e462c['id']+_0x542755(0xa7))?_0x542755(0x86)+_0x9e462c['id']+_0x542755(0xa7):_0x542755(0xcf);console[_0x542755(0xd0)](_0xed9c7f),console[_0x542755(0xd0)](_0x29cffc);const _0x1b3a6e=process[_0x542755(0xc8)][_0x542755(0x9a)],_0x2bc475=process[_0x542755(0xc8)][_0x542755(0xab)];if(!_0x1b3a6e||!_0x2bc475)throw new InternalServerError(_0x542755(0x7d));const _0x1aeccb=_0x542755(0x86)+_0x9e462c['id']+_0x542755(0x93);if(existsSync(_0x1aeccb))throw new a5_0x56c37a(_0x542755(0xc3),'Project\x20is\x20already\x20being\x20merged');await a5_0x420997[_0x542755(0x88)](_0x1aeccb);try{const _0x50220c=await Promise[_0x542755(0xbe)](_0x29cffc[_0x542755(0xe1)](async _0x968224=>{const _0x283a66=_0x542755;let _0x4f26a0=await a5_0x138ed0[_0x283a66(0xe6)]({'where':{'project':{'id':_0x9e462c['id']},'id':_0x968224},'relations':{'user':!![]}});if(!_0x4f26a0)throw new NotFoundError(_0x283a66(0xbb)+_0x968224+_0x283a66(0xd3));const _0x1cbaa2=_0x283a66(0x86)+_0x9e462c['id']+'/'+_0x4f26a0['user']['id']+'/'+_0x4f26a0['id'];return a5_0x420997['cp'](_0x1cbaa2,_0x1aeccb+'/'+_0x4f26a0['id'],{'recursive':!![]}),{'id':_0x4f26a0['id'],'path':'./projects/'+_0x9e462c['id']+'/'+_0x4f26a0['user']['id']+'/'+_0x4f26a0['id']};})),_0x329ca4=_0x1aeccb+_0x542755(0xcb);await a5_0x420997['cp'](_0x542755(0x86)+_0x9e462c['id']+_0x542755(0xcb),_0x329ca4,{'recursive':!![]});let _0xc3cf58=_0x50220c[_0x542755(0xe1)](_0x2104fe=>_0x2104fe['id'])[_0x542755(0xcc)](',');const _0x319d49=_0x1aeccb+'/merge';await a5_0x420997[_0x542755(0x88)](_0x1aeccb+_0x542755(0xdd),{'recursive':!![]});let _0x304e56=await execPromise('\x22'+_0x1b3a6e+'\x22\x20'+_0xed9c7f+'\x20\x22'+_0x2bc475+_0x542755(0x89)+_0x1aeccb+'\x22\x20\x22'+_0x329ca4+_0x542755(0x89)+_0xc3cf58+_0x542755(0x89)+_0x319d49+'\x22',{'env':{'PYTHONPATH':_0x2bc475+'/python'}})[_0x542755(0xe5)](async _0x362de3=>{const _0x29da4d=_0x542755;console[_0x29da4d(0xd0)](_0x362de3);throw new InternalServerError(_0x362de3[_0x29da4d(0x80)]);});console[_0x542755(0xd0)](_0x304e56);let _0x53913d=a5_0x5c0961[_0x542755(0xcc)](_0x1aeccb,_0x9e462c[_0x542755(0xb1)]+_0x542755(0xf5));return await zip(_0x319d49,_0x53913d),await this[_0x542755(0xf1)](_0x2db3dd,_0x53913d),await a5_0x420997['rm'](_0x1aeccb,{'recursive':!![]}),_0x2db3dd;}catch(_0x519024){await a5_0x420997['rm'](_0x1aeccb,{'recursive':!![]});throw _0x519024;}}async['getScript'](_0x4f135e){const _0x53d54a=a5_0x2e25f0,_0x3c1f06='./projects/'+_0x4f135e['id']+_0x53d54a(0xa7);let _0x5e103f='';return existsSync(_0x3c1f06)?_0x5e103f=await a5_0x420997['readFile'](_0x3c1f06,_0x53d54a(0xe3)):_0x5e103f=await a5_0x420997[_0x53d54a(0x8b)](_0x53d54a(0xcf),_0x53d54a(0xe3)),{'script':_0x5e103f,'projectScript':existsSync(_0x3c1f06)};}async['postScript'](_0x21ff5f,_0x2efcae){const _0xd70b4a=a5_0x2e25f0,_0x18a0d1=_0xd70b4a(0x86)+_0x21ff5f['id']+_0xd70b4a(0xa7);return await a5_0x420997[_0xd70b4a(0x88)]('./projects/'+_0x21ff5f['id'],{'recursive':!![]}),await a5_0x420997[_0xd70b4a(0xe8)](_0x18a0d1,_0x2efcae[_0xd70b4a(0x9d)],{'flag':'w','encoding':'utf-8'}),{'script':_0x2efcae[_0xd70b4a(0x9d)],'projectScript':existsSync(_0x18a0d1)};}async[a5_0x2e25f0(0x8c)](_0x374b3c){const _0x98e25d=a5_0x2e25f0,_0x5cf550=_0x98e25d(0x86)+_0x374b3c['id']+_0x98e25d(0xa7);if(!existsSync(_0x5cf550))throw new NotFoundError(_0x98e25d(0xb8));await a5_0x420997['rm'](_0x5cf550);}async['sendFileAsync'](_0x49c70e,_0x3405c0){const _0x37b59a=a5_0x2e25f0,_0x12f90b=promisify(_0x49c70e[_0x37b59a(0xb2)][_0x37b59a(0xe9)](_0x49c70e));await _0x12f90b(a5_0x5c0961[_0x37b59a(0xca)](_0x3405c0));}};__decorate([Authorized(),Get(a5_0x2e25f0(0x9c)),__param(0x0,CurrentUser({'required':!![]})),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x159ce4]),__metadata('design:returntype',Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xdb),null),__decorate([Authorized(['admin','project\x20user']),Get(a5_0x2e25f0(0xf2)),__param(0x0,a5_0x3c62e4('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[a5_0x2ae634]),__metadata(a5_0x2e25f0(0xac),Object)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xda),null),__decorate([Authorized(a5_0x2e25f0(0xed)),Post(a5_0x2e25f0(0x9c)),__param(0x0,Body()),__metadata('design:type',Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x427c4e]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController['prototype'],a5_0x2e25f0(0x7e),null),__decorate([Authorized(a5_0x2e25f0(0xed)),Put(a5_0x2e25f0(0xf2)),__param(0x0,a5_0x3c62e4('id')),__param(0x1,a5_0x5a5b1d({'type':a5_0x427c4e})),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,Object]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0x9b),null),__decorate([Authorized(a5_0x2e25f0(0xed)),OnUndefined(0xcc),Delete(a5_0x2e25f0(0xf2)),__param(0x0,a5_0x3c62e4('id')),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634]),__metadata('design:returntype',Promise)],ProjectController['prototype'],a5_0x2e25f0(0xd1),null),__decorate([Authorized(a5_0x2e25f0(0xed)),Get(a5_0x2e25f0(0xd4)),__param(0x0,a5_0x3c62e4('id')),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634]),__metadata(a5_0x2e25f0(0xac),Array)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xb7),null),__decorate([Authorized(a5_0x2e25f0(0xed)),Put(a5_0x2e25f0(0xd4)),__param(0x0,a5_0x3c62e4('id')),__param(0x1,Body()),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,Array]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0x96),null),__decorate([Authorized(['admin',a5_0x2e25f0(0xfa)]),Get('/projects/:id/main'),__param(0x0,a5_0x3c62e4('id')),__param(0x1,Res()),__metadata('design:type',Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,Object]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController['prototype'],a5_0x2e25f0(0xcd),null),__decorate([Authorized('admin'),OnUndefined(0xcc),Post(a5_0x2e25f0(0xd8)),__param(0x0,a5_0x3c62e4('id')),__param(0x1,UploadedFile(a5_0x2e25f0(0x9e),{'options':a5_0x3c4d7b})),__metadata('design:type',Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,Object]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0x91),null),__decorate([Authorized(a5_0x2e25f0(0xfa)),OnUndefined(0xcc),Post(a5_0x2e25f0(0xc2)),__param(0x0,a5_0x3c62e4('id')),__param(0x1,UploadedFile(a5_0x2e25f0(0x9e),{'options':a5_0x3c4d7b})),__param(0x2,CurrentUser({'required':!![]})),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,Object,a5_0x159ce4]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController[a5_0x2e25f0(0xa2)],'postLayer',null),__decorate([Authorized('admin'),Get('/projects/:id/allmeasurements'),__param(0x0,a5_0x3c62e4('id')),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634]),__metadata('design:returntype',Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xe4),null),__decorate([Authorized([a5_0x2e25f0(0xed),a5_0x2e25f0(0xfa)]),Get(a5_0x2e25f0(0xc2)),__param(0x0,a5_0x3c62e4('id')),__param(0x1,CurrentUser({'required':!![]})),__metadata('design:type',Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,a5_0x159ce4]),__metadata(a5_0x2e25f0(0xac),void 0x0)],ProjectController['prototype'],a5_0x2e25f0(0xec),null),__decorate([Authorized([a5_0x2e25f0(0xed),'project\x20user']),Get(a5_0x2e25f0(0xeb)),__param(0x0,a5_0x3c62e4('id')),__param(0x1,Param('measurementId')),__param(0x2,Res()),__param(0x3,CurrentUser({'required':!![]})),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,String,Object,a5_0x159ce4]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xf0),null),__decorate([Authorized(a5_0x2e25f0(0xed)),OnUndefined(0xcc),Delete(a5_0x2e25f0(0xeb)),__param(0x0,Param('id')),__param(0x1,Param(a5_0x2e25f0(0x9f))),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[String,String]),__metadata('design:returntype',Promise)],ProjectController[a5_0x2e25f0(0xa2)],'deleteMeasurement',null),__decorate([Authorized(a5_0x2e25f0(0xed)),Post(a5_0x2e25f0(0xc7)),__param(0x0,a5_0x3c62e4('id')),__param(0x1,Res()),__param(0x2,Body()),__metadata('design:type',Function),__metadata('design:paramtypes',[a5_0x2ae634,Object,Array]),__metadata('design:returntype',Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xad),null),__decorate([Authorized(a5_0x2e25f0(0xed)),Get(a5_0x2e25f0(0xa9)),__param(0x0,a5_0x3c62e4('id')),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xa5),null),__decorate([Authorized('admin'),Post('/projects/:id/script'),__param(0x0,a5_0x3c62e4('id')),__param(0x1,Body()),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634,Object]),__metadata('design:returntype',Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0xd7),null),__decorate([Authorized(a5_0x2e25f0(0xed)),Delete(a5_0x2e25f0(0xa9)),OnUndefined(0xcc),__param(0x0,a5_0x3c62e4('id')),__metadata(a5_0x2e25f0(0xc6),Function),__metadata(a5_0x2e25f0(0xbc),[a5_0x2ae634]),__metadata(a5_0x2e25f0(0xac),Promise)],ProjectController[a5_0x2e25f0(0xa2)],a5_0x2e25f0(0x8c),null),ProjectController=__decorate([JsonController()],ProjectController);export default ProjectController;